<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Support - Pizza Hut</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <style>
        :root { 
            --brand-red: #D71921;
        }
        body { background-color: #F9FAFB; }
    </style>
</head>
<body class="min-h-screen">

    <header class="flex items-center justify-between px-4 py-3 bg-white text-gray-800 shadow-sm sticky top-0 z-30 h-[60px]">
        <button onclick="history.back()" class="p-2 text-xl text-gray-600"><i class="fas fa-arrow-left"></i></button>
        <h1 class="font-bold text-xl tracking-tight">Help & Support</h1>
        <div class="w-8"></div> 
    </header>

    <main class="max-w-3xl mx-auto p-4 mt-6">
        <div class="space-y-8">

            <div id="support-card" class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold text-gray-800">Send us a Message</h2>
                <p class="text-gray-500 mt-2 mb-6">We'll get back to you as soon as possible.</p>
                
                <form id="support-form" class="space-y-4">
                    <input type="hidden" name="contact_number">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700">Your Name</label>
                        <input type="text" id="name" name="user_name" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Your Email</label>
                        <input type="email" id="email" name="user_email" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
                        <textarea id="message" name="message" rows="4" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500" placeholder="How can we help you?"></textarea>
                    </div>
                    <div>
                        <button type="submit" id="submit-button" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                            Send Message
                        </button>
                    </div>
                </form>
            </div>

            <div id="success-message" class="hidden text-center bg-white p-8 rounded-lg shadow-lg">
                <i class="fas fa-check-circle text-5xl text-green-500 mb-4"></i>
                <h2 class="text-2xl font-bold text-gray-800">Message Sent!</h2>
                <p class="text-gray-600 mt-2">Thank you for contacting us. We will get back to you shortly.</p>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Other Ways to Reach Us</h3>
                <div class="space-y-4">
                    <a href="tel:+212500000000" class="flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50">
                        <i class="fas fa-phone-alt fa-fw text-xl text-gray-500"></i>
                        <div>
                            <p class="font-semibold text-gray-700">Call Us</p>
                            <p class="text-sm text-red-600">+212 500 000 000</p>
                        </div>
                    </a>
                    <a href="mailto:support@pizzahut.ma" class="flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50">
                        <i class="fas fa-envelope fa-fw text-xl text-gray-500"></i>
                        <div>
                            <p class="font-semibold text-gray-700">Email Us</p>
                            <p class="text-sm text-red-600">support@pizzahut.ma</p>
                        </div>
                    </a>
                </div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Looking for something else?</h3>
                <div class="space-y-2">
                    <a href="faq.html" class="flex justify-between items-center p-3 rounded-lg hover:bg-gray-50 text-gray-700 font-semibold">
                        <span>Frequently Asked Questions</span>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </a>
                    <a href="my-orders.html" class="flex justify-between items-center p-3 rounded-lg hover:bg-gray-50 text-gray-700 font-semibold">
                        <span>Track Your Order</span>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </a>
                </div>
            </div>
        </div>
    </main>
    
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>
    <script type="text/javascript">
        (function(){
            emailjs.init({
                publicKey: "kQudxogsoBTYAfXIR",
            });
        })();
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const supportForm = document.getElementById('support-form');
            const supportCard = document.getElementById('support-card');
            const successMessage = document.getElementById('success-message');

            supportForm.addEventListener('submit', function(event) {
                event.preventDefault();
                
                const serviceID = 'service_kpjtcc5';
                const templateID = 'template_x2t6vab';

                emailjs.sendForm(serviceID, templateID, this)
                    .then(() => {
                        supportCard.style.display = 'none';
                        successMessage.classList.remove('hidden');
                    }, (err) => {
                        alert('An error occurred while sending the message. Please try again later.');
                        console.error('EmailJS Error:', err);
                    });
            });
        });
    </script>
</body>
</html>